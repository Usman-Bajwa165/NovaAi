<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JARVIS 2.0 - NEURAL INTERFACE</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="app">
      <!-- Immersive Landing Screen (System Hub) -->
      <div id="landing-screen" class="screen">
        <div class="background-effects">
          <div class="grid-overlay"></div>
          <div class="glow-orb"></div>
        </div>

        <div class="hub-content">
          <div class="branding">
            <h1 class="glitch" data-text="JARVIS 2.0">JARVIS 2.0</h1>
            <div class="system-tag">NEURAL INTERFACE | v4.2.5</div>
          </div>

          <div class="feature-promos">
            <div class="promo-card">
              <h4>DNA AUDIO</h4>
              <p>Auto-calibrating links.</p>
            </div>
            <div class="promo-card">
              <h4>COCKPIT</h4>
              <p>Command interface.</p>
            </div>
            <div class="promo-card">
              <h4>QUANTUM</h4>
              <p>Encrypted sessions.</p>
            </div>
          </div>

          <button class="access-btn" onclick="openAuth()">
            ACCESS INTERFACE
          </button>
        </div>
      </div>

      <!-- Auth Modal Overlay -->
      <div id="auth-modal" class="modal-overlay" style="display: none">
        <div class="glass-card auth-modal-card">
          <button class="close-btn-fixed" onclick="closeAuth()">√ó</button>

          <div class="modal-header-clean">
            <h2 id="modal-title">AUTHENTICATION</h2>
          </div>

          <div id="auth-forms">
            <div id="login-form">
              <div id="recent-logins-container" style="display: none">
                <p class="label-tiny">SESSIONS:</p>
                <div id="recent-logins-list"></div>
              </div>
              <input
                type="email"
                id="login-email"
                placeholder="IDENTITY (EMAIL)"
                onkeydown="handleKey(event, 'login-pass')"
              />
              <div class="pass-wrapper">
                <input
                  type="password"
                  id="login-pass"
                  class="pass-input"
                  placeholder="PASSWORD"
                  onkeydown="handleKey(event, 'LOGIN_BTN')"
                />
                <span
                  class="eye-icon-internal"
                  onclick="togglePass('login-pass')"
                  >üëÅÔ∏è</span
                >
              </div>
              <button id="login-btn" onclick="handleLogin()" class="btn-glow">
                AUTHORIZE
              </button>
              <p class="switch-link">
                No ID? <a href="#" onclick="showSignup()">Register</a>
              </p>
            </div>

            <div id="signup-form" style="display: none">
              <input
                type="email"
                id="signup-email"
                placeholder="NEW IDENTITY"
                onkeydown="handleKey(event, 'signup-pass')"
              />
              <div class="pass-wrapper">
                <input
                  type="password"
                  id="signup-pass"
                  class="pass-input"
                  placeholder="SECRET (MIN 7)"
                  onkeydown="handleKey(event, 'SIGNUP_BTN')"
                />
                <span
                  class="eye-icon-internal"
                  onclick="togglePass('signup-pass')"
                  >üëÅÔ∏è</span
                >
              </div>
              <button id="signup-btn" onclick="handleSignup()" class="btn-glow">
                GENERATE
              </button>
              <p class="switch-link">
                Has ID? <a href="#" onclick="showLogin()">Login</a>
              </p>
            </div>
          </div>
          <p id="auth-msg" class="auth-message-box"></p>
        </div>
      </div>

      <!-- Main Agent Environment -->
      <div id="agent-screen" class="screen" style="display: none">
        <header class="top-system-header">
          <div class="header-section">
            <div class="stat-item">
              <span class="pulse-dot"></span>
              <span id="sys-status">SECURE</span>
            </div>
            <div class="stat-item" id="current-user-email">UNAUTHORIZED</div>
          </div>
          <div class="header-section main-stats">
            <div class="stat-item">CPU: <span>18%</span></div>
            <div class="stat-item">MEM: <span>0.9GB</span></div>
            <div class="stat-item">LINK: <span>STABLE</span></div>
          </div>
          <div class="header-section">
            <button class="purge-btn" onclick="handleLogout()">
              PURGE SESSION
            </button>
          </div>
        </header>

        <div class="cockpit-center">
          <div class="visualizer-container">
            <div class="circle outer"></div>
            <div class="circle middle"></div>
            <div class="circle inner" id="visualizer-core"></div>
          </div>

          <div class="status-box">
            <h3 id="status-text">SYSTEM STANDBY</h3>
            <p>READY FOR VOICE INPUT</p>
          </div>

          <div class="chat-viewport" id="chat-box"></div>

          <div class="mic-trigger">
            <button
              id="mic-btn"
              onclick="toggleListening()"
              class="mic-btn-large"
            >
              <span class="mic-icon">üé§</span>
            </button>
          </div>
        </div>
      </div>
    </div>
    <script src="script.js"></script>
  </body>
</html>
